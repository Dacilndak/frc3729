<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>RJHS FRC Software Documentation: Controller Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">RJHS FRC Software Documentation&#160;<span id="projectnumber">2011</span></div>
   <div id="projectbrief">Technical documentation of source code used by the Regis Jesuit FIRST Robotics Competition team #3729 during the 2011 season.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
          <span class="left">
            <form id="FSearchBox" action="search.php" method="get">
              <img id="MSearchSelect" src="search/mag.png" alt=""/>
              <input type="text" id="MSearchField" name="query" value="Search" size="20" accesskey="S" 
                     onfocus="searchBox.OnSearchFieldFocus(true)" 
                     onblur="searchBox.OnSearchFieldFocus(false)"/>
            </form>
          </span><span class="right"></span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><b>RJFRC2011</b>      </li>
      <li class="navelem"><a class="el" href="class_r_j_f_r_c2011_1_1_controller.html">Controller</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a>  </div>
  <div class="headertitle">
<h1>Controller Class Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="RJFRC2011::Controller" -->
<p>Class abstracting the controller(s) used by our driver(s)  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_controller_8h_source.html">Controller.h</a>&gt;</code></p>

<p><a href="class_r_j_f_r_c2011_1_1_controller-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_j_f_r_c2011_1_1_controller.html#aeee02f1e6f84f42452208c1bf0bb62cf">Controller</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="#aeee02f1e6f84f42452208c1bf0bb62cf"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7c5e0bfebaa8d00a48ef8ce35aeadf56"></a><!-- doxytag: member="RJFRC2011::Controller::~Controller" ref="a7c5e0bfebaa8d00a48ef8ce35aeadf56" args="()" -->
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_j_f_r_c2011_1_1_controller.html#a7c5e0bfebaa8d00a48ef8ce35aeadf56">~Controller</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor. Kill stuff. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_j_f_r_c2011_1_1_controller.html#a025f6f4702d475f523a8239ea8cff076">getManipulatorElevation</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get user-requested manipulator elevation.  <a href="#a025f6f4702d475f523a8239ea8cff076"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_j_f_r_c2011_1_1_controller.html#a9e1ef21d8c2d20194637bba06d853136">getDriveSpeed</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get user-requested drive speed.  <a href="#a9e1ef21d8c2d20194637bba06d853136"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_j_f_r_c2011_1_1_controller.html#a6e215bd860fb57ba8b0e6e0e27f45e88">getDriveTurn</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get user-requested drive turn speed.  <a href="#a6e215bd860fb57ba8b0e6e0e27f45e88"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_j_f_r_c2011_1_1_controller.html#af8731521c77fc853967b7f02f99cd4f2">getMinibotSwitches</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get user-requested minibot shelf action (in/out).  <a href="#af8731521c77fc853967b7f02f99cd4f2"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_j_f_r_c2011_1_1_controller.html#ad5503e733654faae028e022fdedca417">getManipulatorAction</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get user-requested manipulator action (input, rotate, or eject).  <a href="#ad5503e733654faae028e022fdedca417"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_j_f_r_c2011_1_1_controller.html#a5afdd5e6ca5ce84de229dfd3f1f20f43">abs</a> (float initial)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Absolute value of a float, since I'm not sure if we can import the &lt;cmath&gt; library onto the cRIO. EDIT: turns out we can, but I'll leave this here to conserve memory.  <a href="#a5afdd5e6ca5ce84de229dfd3f1f20f43"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_j_f_r_c2011_1_1_controller.html#a96652cffa4dd595c766b97993bc25fa9">expo</a> (float x, float a)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">An exponential function used to make joysticks less sensitive near the center and more sensitive towards the edges.  <a href="#a96652cffa4dd595c766b97993bc25fa9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_j_f_r_c2011_1_1_controller.html#a5638797bbf5fc78741487113ab2eb880">normalize</a> (float joyVal, float min, float max)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">A function that "normalizes" inputs from the joysticks (because they don't give perfect -1.0 to 1.0 values).  <a href="#a5638797bbf5fc78741487113ab2eb880"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1bf8f7e3572acfdb119213a9473bdf9c"></a><!-- doxytag: member="RJFRC2011::Controller::_controller" ref="a1bf8f7e3572acfdb119213a9473bdf9c" args="" -->
Joystick *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_j_f_r_c2011_1_1_controller.html#a1bf8f7e3572acfdb119213a9473bdf9c">_controller</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Object abstracting our InterLink Elite controller, which WIPLib seems to think is a joystick. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4b691efdfa18f448356d3cc9dc719498"></a><!-- doxytag: member="RJFRC2011::Controller::_joystick" ref="a4b691efdfa18f448356d3cc9dc719498" args="" -->
Joystick *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_j_f_r_c2011_1_1_controller.html#a4b691efdfa18f448356d3cc9dc719498">_joystick</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Object abstracting our legitimate Logitech Attack3 joystick. <br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Class abstracting the controller(s) used by our driver(s) </p>
<p>Get input from a pair of joysticks (one of which is physically a flight simulator controller) and return those inputs. A class like this is useful because we can modify a few lines of code to change the inputs for functions throughout the entire code. </p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="aeee02f1e6f84f42452208c1bf0bb62cf"></a><!-- doxytag: member="RJFRC2011::Controller::Controller" ref="aeee02f1e6f84f42452208c1bf0bb62cf" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_r_j_f_r_c2011_1_1_controller.html">Controller</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Constructor. </p>
<p>Basically, initialize the controllers to USB ports 1 and 2. </p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a5afdd5e6ca5ce84de229dfd3f1f20f43"></a><!-- doxytag: member="RJFRC2011::Controller::abs" ref="a5afdd5e6ca5ce84de229dfd3f1f20f43" args="(float initial)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float abs </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>initial</em></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Absolute value of a float, since I'm not sure if we can import the &lt;cmath&gt; library onto the cRIO. EDIT: turns out we can, but I'll leave this here to conserve memory. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">initial</td><td>the initial value </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the absolute value of the passed value; if it's negative, make it positive </dd></dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Matthew Haney </dd></dl>

</div>
</div>
<a class="anchor" id="a96652cffa4dd595c766b97993bc25fa9"></a><!-- doxytag: member="RJFRC2011::Controller::expo" ref="a96652cffa4dd595c766b97993bc25fa9" args="(float x, float a)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float expo </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>a</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>An exponential function used to make joysticks less sensitive near the center and more sensitive towards the edges. </p>
<p>Basically, plug the value requested by the user and a predefined constant into an exponential equation and return the result. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">x</td><td>the value to be exponentiated </td></tr>
    <tr><td class="paramname">a</td><td>a predefined exponential factor </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the "expo-ed" value </dd></dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Adam Bryant </dd></dl>

</div>
</div>
<a class="anchor" id="a9e1ef21d8c2d20194637bba06d853136"></a><!-- doxytag: member="RJFRC2011::Controller::getDriveSpeed" ref="a9e1ef21d8c2d20194637bba06d853136" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float getDriveSpeed </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get user-requested drive speed. </p>
<p>Reads input from the y-axis on the right stick, normalizes it to a value between -1.0 and 1.0, and then exponentiates it (so the stick's less sensitive in the center and more sensitive at the edges). </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>The received, normalized, and expo-ed value (inverted [if the inversion switch {button #2} is thrown]). </dd></dl>

</div>
</div>
<a class="anchor" id="a6e215bd860fb57ba8b0e6e0e27f45e88"></a><!-- doxytag: member="RJFRC2011::Controller::getDriveTurn" ref="a6e215bd860fb57ba8b0e6e0e27f45e88" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float getDriveTurn </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get user-requested drive turn speed. </p>
<p>Reads input from the x-axis on the right stick, normalizes it to a value between -1.0 and 1.0, and then exponentiates it (so the stick's less sensitive in the center and more sensitive at the edges). </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>The received, normalized, and expo-ed value(inverted [if the inversion switch {button #2} is thrown]). </dd></dl>

</div>
</div>
<a class="anchor" id="ad5503e733654faae028e022fdedca417"></a><!-- doxytag: member="RJFRC2011::Controller::getManipulatorAction" ref="ad5503e733654faae028e022fdedca417" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getManipulatorAction </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get user-requested manipulator action (input, rotate, or eject). </p>
<p>Read input from three buttons on the joystick: the trigger (1) and two thumb buttons (2 and 3). If any one of them is pressed, return that button's ID. If multiple are pressed, or none are pressed, return 0. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>The ID of the received button. </dd></dl>

</div>
</div>
<a class="anchor" id="a025f6f4702d475f523a8239ea8cff076"></a><!-- doxytag: member="RJFRC2011::Controller::getManipulatorElevation" ref="a025f6f4702d475f523a8239ea8cff076" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float getManipulatorElevation </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get user-requested manipulator elevation. </p>
<p>Reads input from the y-axis on the joystick. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>The received value (inverted). </dd></dl>

</div>
</div>
<a class="anchor" id="af8731521c77fc853967b7f02f99cd4f2"></a><!-- doxytag: member="RJFRC2011::Controller::getMinibotSwitches" ref="af8731521c77fc853967b7f02f99cd4f2" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int getMinibotSwitches </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get user-requested minibot shelf action (in/out). </p>
<p>Read input from two thumb buttons on the joystick (buttons 4 and 5) and return ther states in a single variable. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>An integer with the last two bits being the right and left button inputs, respectively. </dd></dl>

</div>
</div>
<a class="anchor" id="a5638797bbf5fc78741487113ab2eb880"></a><!-- doxytag: member="RJFRC2011::Controller::normalize" ref="a5638797bbf5fc78741487113ab2eb880" args="(float joyVal, float min, float max)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float normalize </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>joyVal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>max</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>A function that "normalizes" inputs from the joysticks (because they don't give perfect -1.0 to 1.0 values). </p>
<p>If the requested value is negative, return its percentage of the minimum possible value; if it's possible, do the same with the max. If it's zero, of course, return zero. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">joyVal</td><td>the input from the joystick </td></tr>
    <tr><td class="paramname">min</td><td>the minimun joystick value </td></tr>
    <tr><td class="paramname">max</td><td>the maximum joystick value </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the normalized value </dd></dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Adam Bryant </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="_controller_8h_source.html">Controller.h</a></li>
<li><a class="el" href="_controller_8cpp.html">Controller.cpp</a></li>
</ul>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Sat Dec 3 2011 14:13:22 for RJHS FRC Software Documentation by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </small></address>
</body>
</html>
