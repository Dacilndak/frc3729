/*
 *  Drive.cpp
 *  
 *
 *  Created by Matthew Haney on 2/13/11.
 *  Copyright 2011 Regis Jesuit High School. All rights reserved.
 *	AMDG
 *
 */

#include "Drive.h"

RJFRC2011::Drive::Drive()
{
	// Create a robot using standard left/right robot drive on PWMS 1, 2, 3, and #4
	this->_drive = new RobotDrive(DRIVE_FRONT_LEFT_JAGUAR_PORT, DRIVE_FRONT_RIGHT_JAGUAR_PORT, DRIVE_BACK_LEFT_JAGUAR_PORT, DRIVE_BACK_RIGHT_JAGUAR_PORT);
	this->_speed_prev = this->_turn_prev = 0;
}

void RJFRC2011::Drive::Drive(float speed, float turn)
{
	// ramp speed and turn
	turn = ramp(turn, _turn_prev);
	speed = ramp(speed, _speed_prev);
	_drive->Drive(speed, turn);
	_speed_prev = speed;
	_turn_prev = turn;
}